/*此为minjs，原脚本github:https://github.com/Tokisaki-Galaxy/TrymenT-ClocK*/
const symbols=["Ⅻ","Ⅰ","Ⅱ","Ⅲ","Ⅳ","Ⅴ","Ⅵ","Ⅶ","Ⅷ","Ⅸ","Ⅹ","Ⅺ"];const specialSymbols=["Α","Β","Γ","Δ","Ε","Ζ","Η","Θ","Ι","Κ","Λ","Μ","Ν","Ξ","Ο","Π","Ρ","Σ","Τ","Υ","Φ","Χ","Ψ","Ω","OVERLAY_CHAR"].reverse();function initialize(){createBackgroundLayer();let clockContainer=document.querySelector(".clock-container");if(!clockContainer){clockContainer=document.createElement("div");clockContainer.className="clock-container";document.body.appendChild(clockContainer);const clockElement=document.createElement("div");clockElement.className="clock";clockContainer.appendChild(clockElement);const dateDisplay=document.createElement("div");dateDisplay.className="clock-date-display";const dateLabel=document.createElement("div");dateLabel.className="clock-date-label";dateLabel.textContent="What'S ThE DatE";const dateValue=document.createElement("div");dateValue.className="clock-date-value";dateValue.id="current-date";dateDisplay.appendChild(dateLabel);dateDisplay.appendChild(dateValue);clockContainer.appendChild(dateDisplay)}window.clock=document.querySelector(".clock");createClockElements();injectBackgroundImage();adjustClockSize();updateClock();setInterval(updateClock,500);clockContainer.style.zIndex="-2";createOverlayLayer();setupExternalContainer();console.log("Welcome to Tryment Clock")}function setupExternalContainer(){const boardElement=document.getElementById("board");function isTheme(element,themeName){if(element.tagName==="SPAN"&&element.textContent.trim()===themeName){return true}for(let child of element.children){if(isTheme(child,themeName)){return true}}return false}function handleThemeOpacity(themeName,opacity){if(boardElement&&isTheme(document.querySelector("footer"),themeName)){boardElement.style.opacity=opacity}else{setTimeout((()=>{const delayedBoardElement=document.getElementById("board");if(delayedBoardElement){delayedBoardElement.style.opacity=opacity}}),3e3)}}handleThemeOpacity("Fluid","0.9")}function createClockElements(){for(let i=0;i<60;i++){const angle=i*6*(Math.PI/180);const x=194*Math.sin(angle)+200;const y=-194*Math.cos(angle)+200;const tick=document.createElement("div");tick.className="clock-tick-mark";tick.style.height="6px";tick.style.left=`${x}px`;tick.style.top=`${y}px`;tick.style.transform=`translate(-50%, -100%) rotate(${i*6}deg)`;clock.appendChild(tick)}const innerCircle=document.createElement("div");innerCircle.className="clock-circle-dial";innerCircle.style.width="301px";innerCircle.style.height="301px";clock.appendChild(innerCircle);const outerCircle=document.createElement("div");outerCircle.className="clock-circle-dial";outerCircle.style.width="321px";outerCircle.style.height="321px";clock.appendChild(outerCircle);for(let i=0;i<60;i++){const angle=i*6*(Math.PI/180);const x=150*Math.sin(angle)+200;const y=-150*Math.cos(angle)+200;if(i%5===0){const diamond=document.createElement("div");diamond.style.position="absolute";diamond.style.width="8px";diamond.style.height="20px";diamond.style.backgroundColor=i===45?"#c1ff00":"#88a4c3";diamond.style.left=`${x}px`;diamond.style.top=`${y}px`;diamond.style.transform=`translate(-50%, -50%) rotate(${i*6+180}deg)`;diamond.style.transformOrigin="50% 50%";diamond.style.clipPath="polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)";clock.appendChild(diamond)}else{const tick=document.createElement("div");tick.className="clock-tick-mark";tick.style.height="9.5px";tick.style.left=`${x}px`;tick.style.top=`${y}px`;tick.style.transform=`translate(-50%, -100%) rotate(${i*6}deg)`;clock.appendChild(tick)}}return createRotatingContainers()}function createRotatingContainers(){const romanContainer=document.createElement("div");romanContainer.className="rotating-container roman-container";romanContainer.style.position="absolute";romanContainer.style.width="260px";romanContainer.style.height="260px";romanContainer.style.left="50%";romanContainer.style.top="50%";romanContainer.style.transform="translate(-50%, -50%)";clock.appendChild(romanContainer);const greekContainer=document.createElement("div");greekContainer.className="rotating-container greek-container";greekContainer.style.position="absolute";greekContainer.style.width="360px";greekContainer.style.height="360px";greekContainer.style.left="50%";greekContainer.style.top="50%";greekContainer.style.transform="translate(-50%, -50%)";clock.appendChild(greekContainer);createSymbolMarkers(romanContainer,symbols,130,30);createSpecialSymbolMarkers(greekContainer,specialSymbols,180,14.4);return{romanContainer:romanContainer,greekContainer:greekContainer}}function createSymbolMarkers(container,symbols,radius,angleStep){symbols.forEach(((symbol,i)=>{const angle=i*angleStep*(Math.PI/180);const x=radius*Math.sin(angle)+radius;const y=-radius*Math.cos(angle)+radius;const marker=document.createElement("div");marker.className="clock-marker";marker.textContent=symbol;marker.style.fontSize="30px";marker.style.position="absolute";marker.style.left=`${x-20}px`;marker.style.top=`${y-12}px`;marker.style.transform=`rotate(${i*angleStep}deg)`;marker.style.transformOrigin="20px 12px";container.appendChild(marker)}))}function createSpecialSymbolMarkers(container,symbols,radius,angleStep){symbols.forEach(((symbol,i)=>{const angle=i*angleStep*(Math.PI/180);const x=radius*Math.sin(angle)+radius;const y=-radius*Math.cos(angle)+radius;const marker=document.createElement("div");marker.className="clock-marker";marker.style.position="absolute";marker.style.left=`${x-20}px`;marker.style.top=`${y-12}px`;marker.style.transform=`rotate(${i*angleStep}deg)`;marker.style.transformOrigin="20px 12px";if(symbol==="OVERLAY_CHAR"){marker.style.width="40px";marker.style.height="24px";marker.style.display="flex";marker.style.justifyContent="center";marker.style.alignItems="center";const cross=document.createElement("span");cross.textContent="☩";cross.style.position="absolute";cross.style.fontSize="24px";cross.style.zIndex="2";const zero=document.createElement("span");zero.textContent="○";zero.style.position="absolute";zero.style.fontSize="24px";zero.style.zIndex="1";marker.appendChild(cross);marker.appendChild(zero)}else{marker.textContent=symbol}container.appendChild(marker)}))}function injectBackgroundImage(){const clockContainer=document.querySelector(".clock-container");const dateDisplay=document.querySelector(".clock-date-display");const backgroundImage=document.createElement("img");backgroundImage.className="clock-background-image";backgroundImage.src="img.png";backgroundImage.onerror=function(){backgroundImage.src="https://img.picui.cn/free/2025/02/26/67bec9b40a4f6.png"};clockContainer.insertBefore(backgroundImage,dateDisplay)}function updateClock(){const now=new Date;const hours=now.getHours()%12;const minutes=now.getMinutes();const seconds=now.getSeconds();const romanContainer=document.querySelector(".roman-container");const greekContainer=document.querySelector(".greek-container");const romanAngle=270-hours*30;const greekAngle=270+(minutes*6+seconds*.1);romanContainer.style.transform=`translate(-50%, -50%) rotate(${romanAngle}deg)`;greekContainer.style.transform=`translate(-50%, -50%) rotate(${greekAngle}deg)`;const dateElement=document.getElementById("current-date");const monthNames=["JanuarY","FebruarY","MarcH","ApriL","MaY","JunE","JulY","AugusT","SeptembeR","OctobeR","NovembeR","DecembeR"];const month=monthNames[now.getMonth()];const day=now.getDate();const year=(now.getFullYear()+10).toString().substring(2);dateElement.textContent=`${month} ${day}, 20${year}`}function adjustClockSize(){const windowWidth=window.innerWidth;const windowHeight=window.innerHeight;const scale=Math.min(windowWidth/300,windowHeight/200);const clockContainer=document.querySelector(".clock-container");clockContainer.style.transform=`scale(${scale})`;clockContainer.style.position="fixed";clockContainer.style.right="-10%";clockContainer.style.top="50%";clockContainer.style.transformOrigin="center center";clockContainer.style.marginTop="-200px";clockContainer.style.width="400px";clockContainer.style.height="400px";setupClockContainer(clockContainer)}function setupClockContainer(clockContainer){if(!document.getElementById("clock")){const clock=document.createElement("div");clock.id="clock";clock.style.width="100%";clock.style.height="100%";clock.style.position="relative";clockContainer.appendChild(clock);const elements=document.querySelectorAll(".clock-container > div:not(#clock)");elements.forEach((el=>{clock.appendChild(el)}))}const dateDisplay=document.querySelector(".clock-date-display");dateDisplay.style.position="absolute";dateDisplay.style.right="45%";dateDisplay.style.top="48%";dateDisplay.style.transform="scale(0.5)";dateDisplay.style.transformOrigin="top"}function createBackgroundLayer(){const windowWidth=window.innerWidth;const windowHeight=window.innerHeight;const svgNS="http://www.w3.org/2000/svg";const svg=document.createElementNS(svgNS,"svg");svg.setAttribute("width",windowWidth);svg.setAttribute("height",windowHeight);svg.setAttribute("id","background-layer");svg.style.position="fixed";svg.style.top="0";svg.style.left="0";svg.style.width="100%";svg.style.height="100%";svg.style.zIndex="-999";svg.style.backgroundColor="#000000";const rect=document.createElementNS(svgNS,"rect");rect.setAttribute("width","100%");rect.setAttribute("height","100%");rect.setAttribute("fill","#000000");svg.appendChild(rect);document.body.insertBefore(svg,document.body.firstChild);return svg}function createOverlayLayer(){const windowWidth=window.innerWidth;const windowHeight=window.innerHeight;const svgNS="http://www.w3.org/2000/svg";const svg=document.createElementNS(svgNS,"svg");svg.setAttribute("width",windowWidth);svg.setAttribute("height",windowHeight);svg.setAttribute("id","overlay-layer");svg.style.position="fixed";svg.style.top="0";svg.style.left="0";svg.style.width="100%";svg.style.height="100%";svg.style.zIndex="-1";svg.style.pointerEvents="none";const rect=document.createElementNS(svgNS,"rect");rect.setAttribute("width","100%");rect.setAttribute("height","100%");rect.setAttribute("fill","#fff");rect.setAttribute("opacity","0.4");svg.appendChild(rect);document.body.appendChild(svg);return svg}document.addEventListener("DOMContentLoaded",initialize);window.addEventListener("resize",adjustClockSize);